<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Palettable - Color Palette Generator</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#f9fafb;line-height:1.5}
.container{min-height:100vh;padding:1.5rem;max-width:48rem;margin:0 auto}
.text-center{text-align:center}
.mb-8{margin-bottom:2rem}.mb-6{margin-bottom:1.5rem}.mb-4{margin-bottom:1rem}.mb-2{margin-bottom:.5rem}
.mt-4{margin-top:1rem}
.card{background:#fff;padding:1.5rem;border-radius:.5rem;box-shadow:0 1px 3px rgba(0,0,0,.1)}
.flex{display:flex}.justify-between{justify-content:space-between}.items-center{align-items:center}.gap-2{gap:.5rem}
.input-container{position:relative}
.color-icon{position:absolute;left:.75rem;top:.75rem;width:1.25rem;height:1.25rem;border-radius:.25rem;border:1px solid #d1d5db;cursor:pointer}
.input{width:100%;padding:.75rem 1rem .75rem 2.5rem;border:1px solid #d1d5db;border-radius:.5rem;font-family:monospace}
.btn{padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-weight:500;cursor:pointer}
.btn-primary{background:#3b82f6;color:white}
.btn-secondary{background:white;border:1px solid #d1d5db;color:#374151}
.btn:disabled{opacity:.5;cursor:not-allowed}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.palette-container{background:white;border-radius:.5rem;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.1)}
.palette-colors{display:flex;height:120px}
.palette-color{flex:1;position:relative;cursor:pointer}
.lock-icon{position:absolute;top:.5rem;right:.5rem;background:black;color:white;font-size:.7rem;padding:.15rem .3rem;border-radius:.25rem}
.color-hex{position:absolute;bottom:.5rem;left:50%;transform:translateX(-50%);background:black;color:white;font-size:.7rem;padding:.2rem .4rem;border-radius:.25rem}
.palette-info{padding:1rem}
.palette-actions{display:flex;gap:.5rem}
.hidden{display:none}
.message-box{margin-top:1rem;padding:.75rem;border-radius:.5rem;background:#f0fdf4;color:#166534}
.color-picker{position:absolute;top:130%;background:white;border:1px solid #e5e7eb;border-radius:.5rem;padding:.5rem;display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem;z-index:10}
.color-swatch{width:26px;height:26px;border-radius:.25rem;border:1px solid #d1d5db;cursor:pointer}
</style>
</head>

<body>
<div class="container">

<div class="text-center mb-8">
<img src="logo_palettable.png" width="150">
</div>

<div class="card mb-6">
<h3 class="mb-4">Palette Builder</h3>

<div class="flex justify-between items-center mb-2">
  <strong>Dominant Color</strong>
  <span style="font-size:.875rem;color:#6b7280">Click on color icon to change color</span>
</div>

<div class="input-container mb-4">
<div id="colorIcon" class="color-icon"></div>
<input id="colorInput" class="input" value="3">
<div id="colorPicker" class="color-picker hidden"></div>
</div>

<div class="form-row">
<select id="paletteSize">
<option value="2" selected>2 colors</option>
<option value="3">3 colors</option>
<option value="4">4 colors</option>
</select>

<select id="feelingSelect">
<option value="calm">Calm</option>
<option value="playful">Playful</option>
<option value="earthy">Earthy</option>
<option value="minimal">Minimal</option>
<option value="bold">Bold</option>
</select>
</div>

<div class="text-center mt-4">
<button id="generateBtn" class="btn btn-primary">Generate Palette</button>
</div>
</div>

<div id="resultsSection" class="hidden">
<div class="flex justify-between mb-2">
<strong>Generated Palette</strong>
<span style="font-size:.875rem;color:#6b7280">Click colors to lock/unlock</span>
</div>

<div id="paletteContainer" class="palette-container"></div>
</div>

<div id="messageBox" class="message-box hidden"></div>

<div class="text-center" style="font-size:.8rem;color:#6b7280;margin-top:1.5rem">
Colors may vary depending on the fabric used and can appear different from what you see on your screen.
</div>

</div>

<script>
const colorDatabase=[
{id:3,name:'Petal Pink',hex:'#FCF1EF',feeling:['calm']},
{id:10,name:'Black',hex:'#000000',feeling:['bold']},
{id:24,name:'Midnight Slate',hex:'#364A57',feeling:['bold']},
{id:35,name:'Electric Leaf',hex:'#CCFF00',feeling:['playful']},
{id:36,name:'Solar Yellow',hex:'#FFF200',feeling:['playful']}
];

let dominantColor=3;
let currentPalette=[];
let lockedColors=new Set();
let autoLockedColor=null;

const el=id=>document.getElementById(id);

function buildPicker(){
el('colorPicker').innerHTML=colorDatabase.map(c=>
`<div class="color-swatch" style="background:${c.hex}" data-id="${c.id}"></div>`
).join('');
}

buildPicker();

el('colorIcon').onclick=()=>el('colorPicker').classList.toggle('hidden');

el('colorPicker').onclick=e=>{
if(!e.target.dataset.id) return;
dominantColor=parseInt(e.target.dataset.id);
el('colorIcon').style.background=colorDatabase.find(c=>c.id===dominantColor).hex;
el('colorPicker').classList.add('hidden');
};

function createPalette(){
const size=parseInt(el('paletteSize').value);
let palette=[colorDatabase.find(c=>c.id===dominantColor)];
lockedColors=new Set([dominantColor]);
autoLockedColor=dominantColor;

colorDatabase.filter(c=>c.id!==dominantColor)
.slice(0,size-1)
.forEach(c=>palette.push(c));

return palette;
}

function render(){
const allLocked=currentPalette.every(c=>lockedColors.has(c.id));

el('paletteContainer').innerHTML=`
<div class="palette-colors">
${currentPalette.map(c=>`
<div class="palette-color" data-id="${c.id}" style="background:${c.hex}">
${lockedColors.has(c.id)?'<div class="lock-icon">ðŸ”’</div>':''}
<div class="color-hex">#${c.id}</div>
</div>`).join('')}
</div>
<div class="palette-info">
<div class="palette-actions">
<button id="regen" class="btn btn-secondary" ${allLocked?'disabled':''}>Regenerate</button>
<button id="send" class="btn btn-primary">Send</button>
</div>
</div>`;

document.querySelectorAll('.palette-color').forEach(elm=>{
elm.onclick=()=>{
const id=parseInt(elm.dataset.id);
lockedColors.has(id)?lockedColors.delete(id):lockedColors.add(id);
render();
};
});

el('regen').onclick=()=>{
if(allLocked) return;
currentPalette=createPalette();
render();
};

el('send').onclick=()=>{
const ids=currentPalette.map(c=>c.id).join(', ');
navigator.clipboard.writeText(ids);
window.open(`https://wa.me/919828601666?text=${encodeURIComponent(
'Hi Creatis â€” here is my palette: '+ids
)}`,'_blank');
};
}

el('generateBtn').onclick=()=>{
currentPalette=createPalette();
render();
el('resultsSection').classList.remove('hidden');
};

el('colorIcon').style.background=colorDatabase.find(c=>c.id===dominantColor).hex;
</script>
</body>
</html>
